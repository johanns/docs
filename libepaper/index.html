<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libepaper: Modern C++ E-Paper Display Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libepaper<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A modern C++23 library for controlling Waveshare e-paper displays on Raspberry Pi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Modern C++ E-Paper Display Library </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> A modern C++23 library for controlling Waveshare e-paper displays on Raspberry Pi with transparent sleep/wake management and clean architecture.</p>
<p><a href="https://en.cppreference.com/w/cpp/23"><img src="https://img.shields.io/badge/C%2B%2B-23-blue.svg" alt="C++23" style="pointer-events: none;" class="inline"/></a> [<img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT" style="pointer-events: none;" class="inline"/>](LICENSE)</p>
<h1><a class="anchor" id="autotoc_md1"></a>
âœ¨ Quick Example</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="d5/d08/device_8hpp.html">epaper/device.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="d2/da4/display_8hpp.html">epaper/display.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="d1/d76/epd27_8hpp.html">epaper/drivers/epd27.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="df/d50/font_8hpp.html">epaper/font.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="db/da4/namespaceepaper.html">epaper</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="d2/d80/classepaper_1_1Device.html">Device</a> device;</div>
<div class="line">    device.<a class="code hl_function" href="d2/d80/classepaper_1_1Device.html#ae0a60dbaca6d6c4e442982338748bcbb">init</a>().value();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> display = create_display&lt;EPD27&gt;(device, DisplayMode::BlackWhite,</div>
<div class="line">                                         Orientation::Landscape90).value();</div>
<div class="line"> </div>
<div class="line">    display-&gt;clear(Color::White);</div>
<div class="line">    display-&gt;draw_string(20, 70, <span class="stringliteral">&quot;Hello, libepaper!&quot;</span>,</div>
<div class="line">                        Font::font24(), Color::Black, Color::White);</div>
<div class="line">    display-&gt;refresh();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassepaper_1_1Device_html"><div class="ttname"><a href="d2/d80/classepaper_1_1Device.html">epaper::Device</a></div><div class="ttdoc">RAII wrapper for BCM2835 device.</div><div class="ttdef"><b>Definition</b> device.hpp:44</div></div>
<div class="ttc" id="aclassepaper_1_1Device_html_ae0a60dbaca6d6c4e442982338748bcbb"><div class="ttname"><a href="d2/d80/classepaper_1_1Device.html#ae0a60dbaca6d6c4e442982338748bcbb">epaper::Device::init</a></div><div class="ttdeci">auto init() -&gt; std::expected&lt; void, Error &gt;</div><div class="ttdoc">Initialize the BCM2835 library and SPI.</div><div class="ttdef"><b>Definition</b> device.cpp:40</div></div>
<div class="ttc" id="adevice_8hpp_html"><div class="ttname"><a href="d5/d08/device_8hpp.html">device.hpp</a></div></div>
<div class="ttc" id="adisplay_8hpp_html"><div class="ttname"><a href="d2/da4/display_8hpp.html">display.hpp</a></div></div>
<div class="ttc" id="aepd27_8hpp_html"><div class="ttname"><a href="d1/d76/epd27_8hpp.html">epd27.hpp</a></div></div>
<div class="ttc" id="afont_8hpp_html"><div class="ttname"><a href="df/d50/font_8hpp.html">font.hpp</a></div></div>
<div class="ttc" id="anamespaceepaper_html"><div class="ttname"><a href="db/da4/namespaceepaper.html">epaper</a></div><div class="ttdef"><b>Definition</b> color.hpp:5</div></div>
</div><!-- fragment --><p>ğŸ‘‰ <b>See examples/ for complete applications including a real-time crypto dashboard!</b></p>
<h1><a class="anchor" id="autotoc_md2"></a>
ğŸ¯ Features</h1>
<ul>
<li><b>Modern C++23</b>: <code>std::expected</code>, <code>std::span</code>, concepts, and ranges</li>
<li><b>Transparent Sleep/Wake</b>: Auto-sleep prevents burn-in, auto-wake on refreshâ€”no manual management</li>
<li><b>Clean Architecture</b>: Modular design with RAII and composition over inheritance</li>
<li><b>Full Drawing API</b>: Points, lines, rectangles, circles, text, bitmaps with PNG/JPEG support</li>
<li><b>Multiple Display Modes</b>: Black/white (1-bit) and 4-level grayscale (2-bit)</li>
<li><b>Display Orientation</b>: Rotate 0Â°, 90Â°, 180Â°, 270Â° with automatic coordinate transformation</li>
<li><b>Extensible Drivers</b>: Abstract driver interface for easy addition of new displays</li>
<li><b>Type Safety</b>: Strong typing with <code>std::expected</code> error handling</li>
<li><b>Zero-Cost Abstractions</b>: Modern C++ with no runtime overhead</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
ğŸ“š Documentation</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Document   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Examples &amp; Tutorials</b>   </td><td class="markdownTableBodyNone">Get started quickly with working examples    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><a class="el" href="d7/d15/md_docs_2API.html">API Reference</a></b>   </td><td class="markdownTableBodyNone">Complete API guide with usage patterns    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><a class="el" href="d4/d34/md_docs_2ARCHITECTURE.html">Architecture Guide</a></b>   </td><td class="markdownTableBodyNone">Deep dive into design, decisions, and diagrams    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b><a class="el" href="db/d9c/md_docs_2DRIVER.html">Driver Development</a></b>   </td><td class="markdownTableBodyNone">Write drivers for new displays   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md4"></a>
ğŸš€ Quick Start</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
1. Installation</h2>
<p>Run the automated setup script:</p>
<div class="fragment"><div class="line">./bin/setup</div>
</div><!-- fragment --><p>Or manually install dependencies:</p>
<div class="fragment"><div class="line">sudo apt install cmake g++-14 libbcm2835-dev libcurl4-openssl-dev nlohmann-json3-dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
2. Enable SPI</h2>
<div class="fragment"><div class="line">sudo raspi-config</div>
<div class="line"># Interface Options â†’ SPI â†’ Enable</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
3. Hardware Connection</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">E-Paper Pin   </th><th class="markdownTableHeadNone">Raspberry Pi GPIO    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">RST   </td><td class="markdownTableBodyNone">GPIO 17    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">DC   </td><td class="markdownTableBodyNone">GPIO 25    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CS   </td><td class="markdownTableBodyNone">GPIO 8 (CE0)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BUSY   </td><td class="markdownTableBodyNone">GPIO 24    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">MOSI   </td><td class="markdownTableBodyNone">GPIO 10 (MOSI)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SCLK   </td><td class="markdownTableBodyNone">GPIO 11 (SCLK)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">GND   </td><td class="markdownTableBodyNone">GND    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">VCC   </td><td class="markdownTableBodyNone">3.3V   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md8"></a>
4. Build</h2>
<div class="fragment"><div class="line">./bin/build</div>
</div><!-- fragment --><p>Or manually:</p>
<div class="fragment"><div class="line">cmake -S . -B build -DCMAKE_CXX_COMPILER=g++-14</div>
<div class="line">cmake --build build -j$(nproc)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
5. Run Example</h2>
<div class="fragment"><div class="line"># Run crypto dashboard (live prices with charts)</div>
<div class="line">sudo ./build/examples/crypto_dashboard/crypto_dashboard</div>
<div class="line"> </div>
<div class="line"># Run tests</div>
<div class="line">sudo ./build/tests/test_auto_sleep</div>
</div><!-- fragment --><p><b>Note:</b> Root privileges (<code>sudo</code>) required for GPIO/SPI access.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
ğŸ§ª Testing</h1>
<div class="fragment"><div class="line"># Run all tests</div>
<div class="line">cd build/tests</div>
<div class="line">sudo ./run_all_tests.sh</div>
<div class="line"> </div>
<div class="line"># Run specific test</div>
<div class="line">sudo ./test_auto_sleep</div>
</div><!-- fragment --><p>See tests/README.md for details.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
ğŸ¤ Contributing</h1>
<p>We welcome contributions! This project uses <b>Conventional Commits</b> for clear history.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Commit Format</h2>
<div class="fragment"><div class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</div>
<div class="line"> </div>
<div class="line">&lt;body&gt;</div>
<div class="line"> </div>
<div class="line">&lt;footer&gt;</div>
</div><!-- fragment --><p><b>Types:</b></p><ul>
<li><code>feat</code>: New feature</li>
<li><code>fix</code>: Bug fix</li>
<li><code>docs</code>: Documentation changes</li>
<li><code>style</code>: Code formatting</li>
<li><code>refactor</code>: Code refactoring</li>
<li><code>perf</code>: Performance improvements</li>
<li><code>test</code>: Test additions/updates</li>
<li><code>chore</code>: Maintenance tasks</li>
</ul>
<p><b>Scopes:</b> <code>device</code>, <code>driver</code>, <code>display</code>, <code>docs</code>, <code>examples</code>, <code>tests</code></p>
<h2><a class="anchor" id="autotoc_md13"></a>
Examples</h2>
<div class="fragment"><div class="line">feat(driver): add EPD42 display driver support</div>
<div class="line"> </div>
<div class="line">Implements the Driver interface for Waveshare 4.2&quot; displays.</div>
<div class="line">Supports both black/white and 4-level grayscale modes.</div>
<div class="line"> </div>
<div class="line">fix(display): correct auto-wake behavior in refresh()</div>
<div class="line"> </div>
<div class="line">The previous implementation didn&#39;t check is_asleep_ before refresh.</div>
<div class="line">Now transparently wakes display if needed.</div>
<div class="line"> </div>
<div class="line">docs(readme): restructure documentation for clarity</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md14"></a>
Pull Request Process</h2>
<ol type="1">
<li>Fork and create a feature branch</li>
<li>Follow project coding standards (run <code>./bin/format</code>)</li>
<li>Add/update tests as needed</li>
<li>Use conventional commit messages</li>
<li>Update documentation</li>
<li>Submit PR with clear description</li>
</ol>
<h1><a class="anchor" id="autotoc_md15"></a>
ğŸ—ï¸ Supported Hardware</h1>
<p><b>Currently Implemented:</b></p><ul>
<li>Waveshare 2.7" e-Paper Display (176Ã—264 pixels)

&lt;strong&gt;Easy to Extend:&lt;/strong&gt;
The abstract driver interface makes it straightforward to add support for other displays. See @ref "/mnt/nas/libepaper2/docs/DRIVER.md" "<a class="el" href="de/d79/DRIVER_8md.html">docs/DRIVER.md</a>" for a guide to writing new drivers.

@section autotoc_md16 ğŸ”§ Development

@subsection autotoc_md17 Requirements

- C++23 capable compiler (GCC 14+ or Clang 18+)
- CMake 3.25+
- BCM2835 library
- Raspberry Pi with SPI enabled

@subsection autotoc_md18 Project Structure

@icode 
libepaper/
â”œâ”€â”€ include/epaper/        # Public API headers
â”‚   â”œâ”€â”€ device.hpp         # Hardware abstraction
â”‚   â”œâ”€â”€ display.hpp        # High-level display API
â”‚   â”œâ”€â”€ drivers/           # Driver interface &amp; implementations
â”‚   â””â”€â”€ font.hpp           # Font rendering
â”œâ”€â”€ src/                   # Implementation files
â”œâ”€â”€ examples/              # Example applications
â”‚   â”œâ”€â”€ bmp_debug_example/ # BMP export for debugging
â”‚   â””â”€â”€ crypto_dashboard/  # Real-time crypto price dashboard
â”œâ”€â”€ tests/                 # Test suite
â”œâ”€â”€ docs/                  # Comprehensive documentation
â””â”€â”€ bin/                   # Build and setup scripts
@endicode 

@section autotoc_md19 ğŸ™ Acknowledgments

- &lt;strong&gt;Waveshare&lt;/strong&gt; for the e-Paper hardware and original library
- &lt;strong&gt;BCM2835 library authors&lt;/strong&gt; for Raspberry Pi GPIO access
- &lt;strong&gt;stb_image library authors&lt;/strong&gt; for image loading

@section autotoc_md20 ğŸ“„ License

MIT License - see [LICENSE](LICENSE) file for details.

Copyright (c) 2025 Johanns Gregorian

&lt;hr&gt;

&lt;strong&gt;Getting Started?&lt;/strong&gt; â†’ @ref "/mnt/nas/libepaper2/examples/README.md" "Examples"
&lt;strong&gt;API Questions?&lt;/strong&gt; â†’ @ref "/mnt/nas/libepaper2/docs/API.md" "API Reference"
&lt;strong&gt;Architecture Deep Dive?&lt;/strong&gt; â†’ @ref "/mnt/nas/libepaper2/docs/ARCHITECTURE.md" "Architecture Guide"
&lt;strong&gt;Writing a Driver?&lt;/strong&gt; â†’ @ref "/mnt/nas/libepaper2/docs/DRIVER.md" "Driver Development" </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
