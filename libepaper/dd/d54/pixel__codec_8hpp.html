<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libepaper: include/epaper/graphics/pixel_codec.hpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libepaper<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A modern C++23 library for controlling Waveshare e-paper displays on Raspberry Pi</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_8be0177ccea84a4174c5b41428df88d0.html">epaper</a></li><li class="navelem"><a class="el" href="../../dir_c721c1fb10079659f25f727b7ff0c42b.html">graphics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pixel_codec.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Centralized pixel encoding/decoding utilities for framebuffers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../d6/dfd/color_8hpp_source.html">epaper/color/color.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/de3/types_8hpp_source.html">epaper/core/types.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d7e/driver_8hpp_source.html">epaper/drivers/driver.hpp</a>&quot;</code><br />
<code>#include &lt;array&gt;</code><br />
<code>#include &lt;cstddef&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;span&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for pixel_codec.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d8f/pixel__codec_8hpp__incl.png" border="0" usemap="#ainclude_2epaper_2graphics_2pixel__codec_8hpp" alt=""/></div>
<map name="ainclude_2epaper_2graphics_2pixel__codec_8hpp" id="ainclude_2epaper_2graphics_2pixel__codec_8hpp">
<area shape="rect" title="Centralized pixel encoding/decoding utilities for framebuffers." alt="" coords="443,5,620,45"/>
<area shape="rect" href="../../d6/dfd/color_8hpp.html" title=" " alt="" coords="5,93,172,119"/>
<area shape="poly" title=" " alt="" coords="443,45,167,94,166,88,442,40"/>
<area shape="rect" title=" " alt="" coords="238,167,305,192"/>
<area shape="poly" title=" " alt="" coords="443,37,381,46,320,58,269,74,250,84,238,95,232,109,234,124,253,155,248,158,229,126,227,108,233,92,247,80,267,69,319,53,381,40,442,32"/>
<area shape="rect" href="../../dd/de3/types_8hpp.html" title=" " alt="" coords="248,93,415,119"/>
<area shape="poly" title=" " alt="" coords="484,48,374,91,372,86,482,43"/>
<area shape="rect" href="../../d7/d7e/driver_8hpp.html" title=" " alt="" coords="439,93,624,119"/>
<area shape="poly" title=" " alt="" coords="534,46,534,79,529,79,529,46"/>
<area shape="rect" title=" " alt="" coords="561,167,632,192"/>
<area shape="poly" title=" " alt="" coords="583,43,614,63,639,92,643,109,640,127,621,157,617,155,635,125,638,110,634,95,611,67,580,48"/>
<area shape="rect" title=" " alt="" coords="699,93,755,119"/>
<area shape="poly" title=" " alt="" coords="579,43,687,86,685,91,577,48"/>
<area shape="rect" title=" " alt="" coords="779,93,833,119"/>
<area shape="poly" title=" " alt="" coords="599,43,767,90,765,95,598,48"/>
<area shape="poly" title=" " alt="" coords="119,116,230,159,228,164,117,121"/>
<area shape="poly" title=" " alt="" coords="323,121,292,158,288,154,319,117"/>
<area shape="poly" title=" " alt="" coords="490,121,318,168,317,163,489,116"/>
<area shape="poly" title=" " alt="" coords="544,117,579,155,575,158,540,121"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d92/pixel__codec_8hpp__dep__incl.png" border="0" usemap="#ainclude_2epaper_2graphics_2pixel__codec_8hppdep" alt=""/></div>
<map name="ainclude_2epaper_2graphics_2pixel__codec_8hppdep" id="ainclude_2epaper_2graphics_2pixel__codec_8hppdep">
<area shape="rect" title="Centralized pixel encoding/decoding utilities for framebuffers." alt="" coords="5,5,183,45"/>
<area shape="rect" href="../../dc/da1/mock__driver_8hpp.html" title=" " alt="" coords="11,93,177,133"/>
<area shape="poly" title=" " alt="" coords="97,59,97,93,91,93,91,59"/>
</map>
</div>
</div>
<p><a href="../../dd/d54/pixel__codec_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:db/da4/namespaceepaper" id="r_db/da4/namespaceepaper"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html">epaper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dc/d58/namespaceepaper_1_1pixel__constants" id="r_dc/d58/namespaceepaper_1_1pixel__constants"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html">epaper::pixel_constants</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5a0eb3cc82d028c94893c862b501a18" id="r_aa5a0eb3cc82d028c94893c862b501a18"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#aa5a0eb3cc82d028c94893c862b501a18">epaper::spectra6_color_to_value</a> (<a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; std::uint8_t</td></tr>
<tr class="memdesc:aa5a0eb3cc82d028c94893c862b501a18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a Color to its 3-bit Spectra6 value.  <br /></td></tr>
<tr class="separator:aa5a0eb3cc82d028c94893c862b501a18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217b54263ee640cb4908eb40f34336f3" id="r_a217b54263ee640cb4908eb40f34336f3"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a217b54263ee640cb4908eb40f34336f3">epaper::spectra6_value_to_color</a> (std::uint8_t value) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:a217b54263ee640cb4908eb40f34336f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a 3-bit Spectra6 value to Color.  <br /></td></tr>
<tr class="separator:a217b54263ee640cb4908eb40f34336f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f8cc1feff745890cf3f1eef27b305b6" id="r_a9f8cc1feff745890cf3f1eef27b305b6"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a9f8cc1feff745890cf3f1eef27b305b6">epaper::color_to_rgb</a> (<a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a></td></tr>
<tr class="memdesc:a9f8cc1feff745890cf3f1eef27b305b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a Color enum to <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a> values.  <br /></td></tr>
<tr class="separator:a9f8cc1feff745890cf3f1eef27b305b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab594b3725c6e5b18829189f755a7b5b" id="r_aab594b3725c6e5b18829189f755a7b5b"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#aab594b3725c6e5b18829189f755a7b5b">epaper::rgb_to_grayscale</a> (std::uint8_t r, std::uint8_t g, std::uint8_t b) noexcept -&gt; std::uint8_t</td></tr>
<tr class="memdesc:aab594b3725c6e5b18829189f755a7b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a> values to grayscale using standard luminance formula.  <br /></td></tr>
<tr class="separator:aab594b3725c6e5b18829189f755a7b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7acf7642313f81de55f7ddbdf8555b5" id="r_aa7acf7642313f81de55f7ddbdf8555b5"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#aa7acf7642313f81de55f7ddbdf8555b5">epaper::rgb_to_color_bw</a> (std::uint8_t r, std::uint8_t g, std::uint8_t b) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:aa7acf7642313f81de55f7ddbdf8555b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a> to Color for black/white mode.  <br /></td></tr>
<tr class="separator:aa7acf7642313f81de55f7ddbdf8555b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bf7f23e3118426198aa5922a36a9827" id="r_a9bf7f23e3118426198aa5922a36a9827"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a9bf7f23e3118426198aa5922a36a9827">epaper::rgb_to_color_grayscale4</a> (std::uint8_t r, std::uint8_t g, std::uint8_t b) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:a9bf7f23e3118426198aa5922a36a9827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a> to Color for 4-level grayscale mode.  <br /></td></tr>
<tr class="separator:a9bf7f23e3118426198aa5922a36a9827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef4e936d7c87a87ef7901e2028d44e2" id="r_a2ef4e936d7c87a87ef7901e2028d44e2"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a2ef4e936d7c87a87ef7901e2028d44e2">epaper::rgb_to_color</a> (<a class="el" href="../../db/da4/namespaceepaper.html#addab2a448119fd1ac16de67d1013d6c6">DisplayMode</a> mode, std::uint8_t r, std::uint8_t g, std::uint8_t b) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:a2ef4e936d7c87a87ef7901e2028d44e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../d2/dcc/structepaper_1_1RGB.html">RGB</a> to Color based on display mode.  <br /></td></tr>
<tr class="separator:a2ef4e936d7c87a87ef7901e2028d44e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6536b36adf490d1d8b837eeee10f6cb4" id="r_a6536b36adf490d1d8b837eeee10f6cb4"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a6536b36adf490d1d8b837eeee10f6cb4">epaper::calculate_bw_position</a> (std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; std::pair&lt; std::size_t, std::uint8_t &gt;</td></tr>
<tr class="memdesc:a6536b36adf490d1d8b837eeee10f6cb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate byte index and bit mask for B/W mode pixel.  <br /></td></tr>
<tr class="separator:a6536b36adf490d1d8b837eeee10f6cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abafb91a7fff12d6ce6ce287bdedfc14b" id="r_abafb91a7fff12d6ce6ce287bdedfc14b"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#abafb91a7fff12d6ce6ce287bdedfc14b">epaper::calculate_gray_position</a> (std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; std::pair&lt; std::size_t, std::uint8_t &gt;</td></tr>
<tr class="memdesc:abafb91a7fff12d6ce6ce287bdedfc14b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate byte index and pixel shift for Grayscale4 mode pixel.  <br /></td></tr>
<tr class="separator:abafb91a7fff12d6ce6ce287bdedfc14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b50614af9eb4ad30b2bd73821d9569" id="r_ad5b50614af9eb4ad30b2bd73821d9569"><td class="memItemLeft" align="right" valign="top">constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#ad5b50614af9eb4ad30b2bd73821d9569">epaper::calculate_spectra6_position</a> (std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; std::pair&lt; std::size_t, std::size_t &gt;</td></tr>
<tr class="memdesc:ad5b50614af9eb4ad30b2bd73821d9569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate byte index and bit offset for Spectra6 (3-bit) mode pixel.  <br /></td></tr>
<tr class="separator:ad5b50614af9eb4ad30b2bd73821d9569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211f15e728528fdf212242393979b569" id="r_a211f15e728528fdf212242393979b569"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a211f15e728528fdf212242393979b569">epaper::get_pixel_bw</a> (std::span&lt; const std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:a211f15e728528fdf212242393979b569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a pixel from a B/W mode buffer.  <br /></td></tr>
<tr class="separator:a211f15e728528fdf212242393979b569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab767480178516376f4002d5f79b11529" id="r_ab767480178516376f4002d5f79b11529"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#ab767480178516376f4002d5f79b11529">epaper::get_pixel_grayscale4</a> (std::span&lt; const std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:ab767480178516376f4002d5f79b11529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a pixel from a Grayscale4 mode buffer.  <br /></td></tr>
<tr class="separator:ab767480178516376f4002d5f79b11529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44b0b5418e498436b85b0be41d449ec" id="r_af44b0b5418e498436b85b0be41d449ec"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#af44b0b5418e498436b85b0be41d449ec">epaper::get_pixel_bwr_bwy</a> (std::span&lt; const std::byte &gt; buffer, std::size_t width, std::size_t height, std::size_t x, std::size_t y, bool is_bwr) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:af44b0b5418e498436b85b0be41d449ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a pixel from a BWR or BWY mode buffer.  <br /></td></tr>
<tr class="separator:af44b0b5418e498436b85b0be41d449ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1608e1f90ccba81870d49551e7cf0df" id="r_ab1608e1f90ccba81870d49551e7cf0df"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#ab1608e1f90ccba81870d49551e7cf0df">epaper::get_pixel_spectra6</a> (std::span&lt; const std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:ab1608e1f90ccba81870d49551e7cf0df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a pixel from a Spectra6 mode buffer.  <br /></td></tr>
<tr class="separator:ab1608e1f90ccba81870d49551e7cf0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf82ab807547e63dfabf8ecba1b49b0a" id="r_adf82ab807547e63dfabf8ecba1b49b0a"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#adf82ab807547e63dfabf8ecba1b49b0a">epaper::get_pixel_from_buffer</a> (<a class="el" href="../../db/da4/namespaceepaper.html#addab2a448119fd1ac16de67d1013d6c6">DisplayMode</a> mode, std::span&lt; const std::byte &gt; buffer, std::size_t width, std::size_t height, std::size_t x, std::size_t y) noexcept -&gt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a></td></tr>
<tr class="memdesc:adf82ab807547e63dfabf8ecba1b49b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a pixel from a buffer based on display mode.  <br /></td></tr>
<tr class="separator:adf82ab807547e63dfabf8ecba1b49b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de2866c6b357334dc0276fd31a6e7f3" id="r_a3de2866c6b357334dc0276fd31a6e7f3"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a3de2866c6b357334dc0276fd31a6e7f3">epaper::set_pixel_bw</a> (std::span&lt; std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y, <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; void</td></tr>
<tr class="memdesc:a3de2866c6b357334dc0276fd31a6e7f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a pixel to a B/W mode buffer.  <br /></td></tr>
<tr class="separator:a3de2866c6b357334dc0276fd31a6e7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2160d0be5b8b2eb1b4b7998f8c4c57b5" id="r_a2160d0be5b8b2eb1b4b7998f8c4c57b5"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a2160d0be5b8b2eb1b4b7998f8c4c57b5">epaper::set_pixel_grayscale4</a> (std::span&lt; std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y, <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; void</td></tr>
<tr class="memdesc:a2160d0be5b8b2eb1b4b7998f8c4c57b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a pixel to a Grayscale4 mode buffer.  <br /></td></tr>
<tr class="separator:a2160d0be5b8b2eb1b4b7998f8c4c57b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3b66172f08771cec4a9b5ecc3c199a" id="r_adf3b66172f08771cec4a9b5ecc3c199a"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#adf3b66172f08771cec4a9b5ecc3c199a">epaper::set_pixel_bwr_bwy</a> (std::span&lt; std::byte &gt; buffer, std::size_t width, std::size_t height, std::size_t x, std::size_t y, <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color, bool is_bwr) noexcept -&gt; void</td></tr>
<tr class="memdesc:adf3b66172f08771cec4a9b5ecc3c199a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a pixel to a BWR or BWY mode buffer.  <br /></td></tr>
<tr class="separator:adf3b66172f08771cec4a9b5ecc3c199a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624bc1bdcc8cdb10352f7b8d77b5ce0f" id="r_a624bc1bdcc8cdb10352f7b8d77b5ce0f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a624bc1bdcc8cdb10352f7b8d77b5ce0f">epaper::set_pixel_spectra6</a> (std::span&lt; std::byte &gt; buffer, std::size_t width, std::size_t x, std::size_t y, <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; void</td></tr>
<tr class="memdesc:a624bc1bdcc8cdb10352f7b8d77b5ce0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a pixel to a Spectra6 mode buffer.  <br /></td></tr>
<tr class="separator:a624bc1bdcc8cdb10352f7b8d77b5ce0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfc54379ce54b633094016b0999396c" id="r_a7dfc54379ce54b633094016b0999396c"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a7dfc54379ce54b633094016b0999396c">epaper::set_pixel_in_buffer</a> (<a class="el" href="../../db/da4/namespaceepaper.html#addab2a448119fd1ac16de67d1013d6c6">DisplayMode</a> mode, std::span&lt; std::byte &gt; buffer, std::size_t width, std::size_t height, std::size_t x, std::size_t y, <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a> color) noexcept -&gt; void</td></tr>
<tr class="memdesc:a7dfc54379ce54b633094016b0999396c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a pixel to a buffer based on display mode.  <br /></td></tr>
<tr class="separator:a7dfc54379ce54b633094016b0999396c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a64515c392b24e08e81bbdfc975253839" id="r_a64515c392b24e08e81bbdfc975253839"><td class="memItemLeft" align="right" valign="top">constexpr std::array&lt; <a class="el" href="../../db/da4/namespaceepaper.html#abbcfe3e537fe42c69ae050cbfb36fcc3">Color</a>, 8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/da4/namespaceepaper.html#a64515c392b24e08e81bbdfc975253839">epaper::SPECTRA6_VALUE_TO_COLOR</a></td></tr>
<tr class="memdesc:a64515c392b24e08e81bbdfc975253839"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapping from 3-bit Spectra6 value to Color enum.  <br /></td></tr>
<tr class="separator:a64515c392b24e08e81bbdfc975253839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Black/White Mode Constants</div></td></tr>
<tr class="memitem:a6328849e3a8e41ca4d6d25bd000c82a4" id="r_a6328849e3a8e41ca4d6d25bd000c82a4"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a6328849e3a8e41ca4d6d25bd000c82a4">epaper::pixel_constants::BW_PIXELS_PER_BYTE</a> = 8</td></tr>
<tr class="separator:a6328849e3a8e41ca4d6d25bd000c82a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3db21665e9b10f818bb84017d14fa9" id="r_a9e3db21665e9b10f818bb84017d14fa9"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a9e3db21665e9b10f818bb84017d14fa9">epaper::pixel_constants::BW_MSB_MASK</a> = 0x80</td></tr>
<tr class="separator:a9e3db21665e9b10f818bb84017d14fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Grayscale4 Mode Constants</div></td></tr>
<tr class="memitem:a566866b0f890228a8d57aa11a9c953ea" id="r_a566866b0f890228a8d57aa11a9c953ea"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a566866b0f890228a8d57aa11a9c953ea">epaper::pixel_constants::GRAY_PIXELS_PER_BYTE</a> = 4</td></tr>
<tr class="separator:a566866b0f890228a8d57aa11a9c953ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75974b2d97bee0507fe8a631bfdeb87a" id="r_a75974b2d97bee0507fe8a631bfdeb87a"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a75974b2d97bee0507fe8a631bfdeb87a">epaper::pixel_constants::GRAY_BITS_PER_PIXEL</a> = 2</td></tr>
<tr class="separator:a75974b2d97bee0507fe8a631bfdeb87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3821f6039b25725070b28dc0aaae0b" id="r_a3c3821f6039b25725070b28dc0aaae0b"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a3c3821f6039b25725070b28dc0aaae0b">epaper::pixel_constants::GRAY_PIXEL_MASK</a> = 0xC0</td></tr>
<tr class="separator:a3c3821f6039b25725070b28dc0aaae0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Spectra6 Mode Constants</div></td></tr>
<tr class="memitem:aa8ddda47affc04567898ebc5950a0a4d" id="r_aa8ddda47affc04567898ebc5950a0a4d"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#aa8ddda47affc04567898ebc5950a0a4d">epaper::pixel_constants::SPECTRA6_BITS_PER_PIXEL</a> = 3</td></tr>
<tr class="separator:aa8ddda47affc04567898ebc5950a0a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3d1738a2242b3488cc148a4e9643aa" id="r_aee3d1738a2242b3488cc148a4e9643aa"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#aee3d1738a2242b3488cc148a4e9643aa">epaper::pixel_constants::SPECTRA6_COLOR_MASK</a> = 0x07</td></tr>
<tr class="separator:aee3d1738a2242b3488cc148a4e9643aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Grayscale Thresholds (for RGB conversion)</div></td></tr>
<tr class="memitem:af0257f434ae9a82ce04e5f6caacec4b1" id="r_af0257f434ae9a82ce04e5f6caacec4b1"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#af0257f434ae9a82ce04e5f6caacec4b1">epaper::pixel_constants::GRAY_THRESHOLD_WHITE</a> = 192</td></tr>
<tr class="separator:af0257f434ae9a82ce04e5f6caacec4b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415a63bd7d95687244dde571522ea4a1" id="r_a415a63bd7d95687244dde571522ea4a1"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a415a63bd7d95687244dde571522ea4a1">epaper::pixel_constants::GRAY_THRESHOLD_LIGHT</a> = 128</td></tr>
<tr class="separator:a415a63bd7d95687244dde571522ea4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36cb071c8253742c3ea593f7ae2fff3b" id="r_a36cb071c8253742c3ea593f7ae2fff3b"><td class="memItemLeft" align="right" valign="top">constexpr std::uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d58/namespaceepaper_1_1pixel__constants.html#a36cb071c8253742c3ea593f7ae2fff3b">epaper::pixel_constants::GRAY_THRESHOLD_DARK</a> = 64</td></tr>
<tr class="separator:a36cb071c8253742c3ea593f7ae2fff3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Centralized pixel encoding/decoding utilities for framebuffers. </p>
<p>Provides all the bit manipulation logic for reading and writing pixels in various display modes. This eliminates duplication between Display and MockDriver while documenting the exact framebuffer format for each mode.</p>
<p><b>Supported Display Modes:</b></p><ul>
<li><b>BlackWhite</b>: 1 bit per pixel, MSB-first, 8 pixels/byte</li>
<li><b>Grayscale4</b>: 2 bits per pixel, 4 levels (White/Gray1/Gray2/Black), 4 pixels/byte</li>
<li><b>BWR/BWY</b>: Dual-plane, 1 bit per pixel per plane (BW + Color), active-low color</li>
<li><b>Spectra6</b>: 3 bits per pixel, 6 colors, cross-byte packing</li>
</ul>
<p><b>Design Principles:</b></p><ul>
<li>Pure functions: No side effects, all constexpr where possible</li>
<li>Type safety: std::span&lt;std::byte&gt; instead of raw pointers</li>
<li>Bounds checking: All functions validate buffer sizes</li>
<li>Integer-only: No floating point in pixel operations</li>
<li>Fallback values: Return safe defaults (White) on error</li>
</ul>
<p><b>Bit Layout Examples:</b> </p><div class="fragment"><div class="line">Black/White (1bpp MSB-first):</div>
<div class="line">  Byte: [p0 p1 p2 p3 p4 p5 p6 p7]</div>
<div class="line">  p0 = MSB (bit 7), p7 = LSB (bit 0)</div>
<div class="line">  1 = White, 0 = Black</div>
<div class="line"> </div>
<div class="line">Grayscale4 (2bpp):</div>
<div class="line">  Byte: [p0_hi p0_lo | p1_hi p1_lo | p2_hi p2_lo | p3_hi p3_lo]</div>
<div class="line">  00 = Black, 01 = Gray2, 10 = Gray1, 11 = White</div>
<div class="line"> </div>
<div class="line">BWR/BWY (dual-plane 1bpp):</div>
<div class="line">  Plane 0 (BW): [b0 b1 b2 ... ] (1=White, 0=Black)</div>
<div class="line">  Plane 1 (Color): [c0 c1 c2 ... ] (0=Color, 1=Transparent) [active-low]</div>
<div class="line">  Color pixel = (BW=0, Color=0), White = (BW=1, Color=1)</div>
<div class="line"> </div>
<div class="line">Spectra6 (3bpp cross-byte):</div>
<div class="line">  3 pixels = 9 bits = 1 byte + 1 bit:</div>
<div class="line">  [p0_b2 p0_b1 p0_b0 | p1_b2 p1_b1 p1_b0 | p2_b2 p2_b1 p2_b0 ...]</div>
<div class="line">  Values: 0=Black, 1=White, 2=Red, 3=Yellow, 4=Blue, 5=Green</div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>DisplayMode, Color, MonoFramebuffer, MultiPlaneFramebuffer </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
